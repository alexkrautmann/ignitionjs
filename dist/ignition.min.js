/*!
 * IgnitionJS v3.2.0 <https://github.com/carsdotcom>
 * @license Apache 2.0
 * @copyright 2014 Cars.com <http://www.cars.com/>
 * @author Mac Heller-Ogden
 * @summary A fast and flexible, module loader/bootstrapper for AngularJS.
 * @requires LABjs 2.0.3 <http://labjs.com/>.
 */
!function(){function e(e){this.name="IgnitionError",this.message=e}function t(t){return function(r,i){var n=typeof r,s=!1,o=!1,a=!0;if("object"!==n||(s=null===r)||(o="[object Array]"===Object.prototype.toString.call(r)),"array"===t?a=o:"object"===t&&(o||s)?a=!1:n!==t&&(a=!1),!a&&i)throw new e("Expected `"+t+"` and instead received `"+n+"`");return a}}function r(e,t){var r,i;if(f(e,!0),u(t))return e.indexOf(t)>=0;if(l(t))for(i=/ +?/g,t=t.toString().replace(i,""),r=0;r<e.length;r++)if(l(e[r])&&e[r].toString().replace(i,"")===t)return!0;return!1}function i(t,i){return function(n){if(!i(n))throw new e("Invalid subject");r(t,n)||t.push(n)}}function n(e,t){var r;for(f(t,!0),r=0;r<t.length;r++)e(t[r])}function s(e){var t;for(t=0;t<e.length;t++)e[t].call(window)}function o(e,t){return"/"!==t.substr(-1)&&(t+="/"),t+e+"/"+e+".js"}function a(t){function r(){return Array.prototype.slice.call(this.srcs,0)}function n(){return Array.prototype.slice.call(this.fns,0)}function s(e){h._registerMulti(this.registerSrc,e)}function o(e){h._registerMulti(this.registerFn,e)}var a,g,p,m,h=this,y={modules:{validation:function(e){return u(e)&&/^[A-Za-z]+\w*$/.test(e)},dir:"/app/js/modules/",bootstrap:function(e){angular.bootstrap(document,e)}}};for(t=function v(e){var t,r,i;for(t=1;t<arguments.length;++t)if(r=arguments[t],c(r))for(i in r)r.hasOwnProperty(i)&&(e[i]=c(r[i])?v({},e[i],r[i]):r[i]);return e}({},y,t),h.tier=[],f(t.tier)?(h.tiers=t.tier.length,t.tier=t.tier):(h.tiers=2,t.tier=[]),a=0;a<h.tiers;a++){for(h.tier[a]={},p=t.tier[a]&&f(t.tier[a].aliases),m=p?t.tier[a].aliases:[],g=0;g<m.length;g++)d(h[m[g]])&&(h[m[g]]=h.tier[a],h.tier[a].aliases=m=p?t.tier[a].aliases:[]);h.tier[a].validation=t.tier[a]&&l(t.tier[a].validation)?t.tier[a].validation:u,h.tier[a].fns=[],h.tier[a].srcs=[],h.tier[a].getSrcs=r,h.tier[a].getFns=n,h.tier[a].registerSrc=i(h.tier[a].srcs,h.tier[a].validation),h.tier[a].registerFn=i(h.tier[a].fns,l),h.tier[a].registerSrcs=s,h.tier[a].registerFns=o}h.ready={fns:[]},h.ready.getFns=n,h.ready.registerFn=i(h.ready.fns,l),h.ready.registerFns=function(e){h._registerMulti(this.registerFn,e)},h.modules={names:[],validation:t.modules.validation,dir:t.modules.dir,bootstrap:t.modules.bootstrap},l(h.modules.validation,!0),u(h.modules.dir,!0),l(h.modules.bootstrap,!0),h.modules.registerOne=i(h.modules.names,h.modules.validation),h.modules.registerMany=function(e){h._registerMulti(this.registerOne,e)},h.modules.register=function(t){if(u(t))h.modules.registerOne(t);else{if(!f(t))throw new e("Expected `array` or `string` and instead received `"+typeof t+"`");h.modules.registerMany(t)}},h.modules.getNames=function(){return Array.prototype.slice.call(this.names,0)},h.modules.getSrcs=function(){var e,t=this.getNames(),r=[];for(e=0;e<t.length;e++)r.push(h._buildModulePath(t[e],this.dir));return r}}var u,l,c,f,d;e.prototype=Error.prototype,u=t("string"),l=t("function"),c=t("object"),f=t("array"),d=t("undefined"),a.fn=a.prototype,a.fn._isString=u,a.fn._isFunction=l,a.fn._isObject=c,a.fn._isArray=f,a.fn._isRegistered=r,a.fn._generateRegistration=i,a.fn._registerMulti=n,a.fn._execFunctionQueue=s,a.fn._buildModulePath=o,a.fn._loadTier=function(e,t){var r=this;return t.script(r.tier[e].getSrcs()).wait(function(){r._execFunctionQueue(r.tier[e].getFns())})},a.fn.load=function(){var t,r=this,i=$LAB;if(!$LAB)throw new e("$LAB not found.");for(t=0;t<r.tiers;t++)i=r._loadTier(t,i);i.script(r.modules.getSrcs()).wait(function(){r.modules.bootstrap(r.modules.getNames()),r._execFunctionQueue(r.ready.getFns())})},window.Ignition=a}();