/*!
 * IgnitionJS v2.0.3 <https://github.com/carsdotcom>
 * @license Apache 2.0
 * @copyright 2014 Cars.com <http://www.cars.com/>
 * @author Mac Heller-Ogden
 * @summary A fast and flexible, module loader/bootstrapper for AngularJS.
 * @requires LABjs 2.0.3 <http://labjs.com/>.
 */
!function(){function t(t){this.name="IgnitionError",this.message="string"==typeof t?t:""}function n(t,n){var e;if("string"==typeof n)return t.indexOf(n)>=0;if("function"==typeof n)for(n=n.toString(),e=0;e<t.length;e++)if("function"==typeof t[e]&&t[e].toString()===n)return!0;return!1}function e(e,i){return function(o){if("object"!=typeof e||!e.hasOwnProperty("length"))throw new t("Argument `registry` must be an array.");if("function"!=typeof i)throw new t("Argument `predicate` must be a function.");if(!i(o))throw new t("Invalid subject");n(e,o)||e.push(o)}}function i(n,e){var i;if("function"!=typeof n)throw new t("Argument `registration` must be a function");if("object"!=typeof e||!e.hasOwnProperty("length"))throw new t("Argument `subjects` must be an array");for(i=0;i<e.length;i++)n(e[i])}function o(t,n){var e;for(n="object"==typeof n?n:window,e=0;e<t.length;e++)t[e].call(n)}function r(t){var n=[],i=[],o=[],r=[],s=[];t="object"==typeof t?t:{},this.dependencyValidation=this.pluginValidation=t.dependencyValidation||function(t){return"string"==typeof t},this.moduleValidation=t.moduleValidation||function(t){return"string"==typeof t&&/^[A-Za-z]+\w*$/.test(t)},this.bootstrapValidation=function(t){return"function"==typeof t},this.moduleDir=t.moduleDir||"/app/js/modules/",this.moduleBootstrap=t.moduleBootstrap||function(t){angular.bootstrap(document,t)},this.getDependencies=function(){return Array.prototype.slice.call(n,0)},this.getPlugins=function(){return Array.prototype.slice.call(i,0)},this.getModules=function(){return Array.prototype.slice.call(o,0)},this.getDependencyBootstraps=function(){return r},this.getPluginBootstraps=function(){return s},this.registerDependency=e(n,this.dependencyValidation),this.registerPlugin=e(i,this.pluginValidation),this.registerModule=e(o,this.moduleValidation),this.getDependencyBootstraps=function(){return r},this.getPluginBootstraps=function(){return s},this.registerDependency=e(n,this.dependencyValidation),this.registerPlugin=e(i,this.pluginValidation),this.registerModule=e(o,this.moduleValidation),this.registerDependencyBootstrap=e(r,this.bootstrapValidation),this.registerPluginBootstrap=e(s,this.bootstrapValidation)}t.prototype=Error.prototype,r.fn=r.prototype,r.fn.getModulePath=function(t,n){return"/"!==n.substr(-1)&&(n+="/"),n+t+"/"+t+".js"},r.fn.getModuleSources=function(){var t,n=this.getModules(),e=[];for(t=0;t<n.length;t++)e.push(this.getModulePath(n[t],this.moduleDir));return e},r.fn.registerModules=function(t){i(this.registerModule,t)},r.fn.registerDependencies=function(t){i(this.registerDependency,t)},r.fn.registerPlugins=function(t){i(this.registerPlugin,t)},r.fn.dependencyBootstrap=function(){o(this.getDependencyBootstraps(),this)},r.fn.pluginBootstrap=function(){o(this.getPluginBootstraps(),this)},r.fn.load=function(){var n=this;if(!$LAB)throw new t("$LAB not found.");$LAB.script(this.getDependencies).wait(function(){n.dependencyBootstrap()}).script(this.getPlugins).wait(function(){n.pluginBootstrap()}).script(this.getModuleSources()).wait(function(){n.moduleBootstrap(n.getModules())})},window.Ignition=r}();