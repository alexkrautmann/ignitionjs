/*!
 * IgnitionJS v3.2.1 <https://github.com/carsdotcom>
 * @license Apache 2.0
 * @copyright 2014 Cars.com <http://www.cars.com/>
 * @author Mac Heller-Ogden
 * @summary A fast and flexible, module loader/bootstrapper for AngularJS.
 * @requires LABjs 2.0.3 <http://labjs.com/>.
 */
!function(){function t(t){this.name="IgnitionError",this.message=t}function e(e){return function(r,i){var n=typeof r,s=!1,o=!1,a=!0;if("object"!==n||(s=null===r)||(o="[object Array]"===Object.prototype.toString.call(r)),"array"===e?a=o:"object"===e&&(o||s)?a=!1:n!==e&&(a=!1),!a&&i)throw new t("Expected `"+e+"` and instead received `"+n+"`");return a}}function r(t,e){var r,i;if(f(t,!0),u(e))return t.indexOf(e)>=0;if(l(e))for(i=/ +?/g,e=e.toString().replace(i,""),r=0;r<t.length;r++)if(l(t[r])&&t[r].toString().replace(i,"")===e)return!0;return!1}function i(e,i){return function(n){if(!i(n))throw new t("Invalid subject");r(e,n)||e.push(n)}}function n(t,e){var r;for(f(e,!0),r=0;r<e.length;r++)t(e[r])}function s(t){var e;for(e=0;e<t.length;e++)t[e].call(window)}function o(t,e){return"/"!==e.substr(-1)&&(e+="/"),e+t+"/"+t+".js"}function a(e){function r(){return Array.prototype.slice.call(this.srcs,0)}function n(){return Array.prototype.slice.call(this.fns,0)}function s(t){h._registerMulti(this.registerSrc,t)}function o(t){h._registerMulti(this.registerFn,t)}var a,g,p,m,h=this,y={modules:{validation:function(t){return u(t)&&/^[A-Za-z]+\w*$/.test(t)},dir:"/app/js/modules/",bootstrap:function(t){angular.bootstrap(document,t)}}};for(e=function v(t){var e,r,i;for(e=1;e<arguments.length;++e)if(r=arguments[e],c(r))for(i in r)r.hasOwnProperty(i)&&(t[i]=c(r[i])?v({},t[i],r[i]):r[i]);return t}({},y,e),h.tiers=[],f(e.tiers)?(h.tierCount=e.tiers.length,e.tiers=e.tiers):(h.tierCount=2,e.tiers=[]),a=0;a<h.tierCount;a++){for(h.tiers[a]={},p=e.tiers[a]&&f(e.tiers[a].aliases),m=p?e.tiers[a].aliases:[],g=0;g<m.length;g++)d(h[m[g]])&&(h[m[g]]=h.tiers[a],h.tiers[a].aliases=m=p?e.tiers[a].aliases:[]);h.tiers[a].validation=e.tiers[a]&&l(e.tiers[a].validation)?e.tiers[a].validation:u,h.tiers[a].fns=[],h.tiers[a].srcs=[],h.tiers[a].getSrcs=r,h.tiers[a].getFns=n,h.tiers[a].registerSrc=i(h.tiers[a].srcs,h.tiers[a].validation),h.tiers[a].registerFn=i(h.tiers[a].fns,l),h.tiers[a].registerSrcs=s,h.tiers[a].registerFns=o}h.ready={fns:[]},h.ready.getFns=n,h.ready.registerFn=i(h.ready.fns,l),h.ready.registerFns=function(t){h._registerMulti(this.registerFn,t)},h.modules={names:[],validation:e.modules.validation,dir:e.modules.dir,bootstrap:e.modules.bootstrap},l(h.modules.validation,!0),u(h.modules.dir,!0),l(h.modules.bootstrap,!0),h.modules.registerOne=i(h.modules.names,h.modules.validation),h.modules.registerMany=function(t){h._registerMulti(this.registerOne,t)},h.modules.register=function(e){if(u(e))h.modules.registerOne(e);else{if(!f(e))throw new t("Expected `array` or `string` and instead received `"+typeof e+"`");h.modules.registerMany(e)}},h.modules.getNames=function(){return Array.prototype.slice.call(this.names,0)},h.modules.getSrcs=function(){var t,e=this.getNames(),r=[];for(t=0;t<e.length;t++)r.push(h._buildModulePath(e[t],this.dir));return r}}var u,l,c,f,d;t.prototype=Error.prototype,u=e("string"),l=e("function"),c=e("object"),f=e("array"),d=e("undefined"),a.fn=a.prototype,a.fn._isString=u,a.fn._isFunction=l,a.fn._isObject=c,a.fn._isArray=f,a.fn._isRegistered=r,a.fn._generateRegistration=i,a.fn._registerMulti=n,a.fn._execFunctionQueue=s,a.fn._buildModulePath=o,a.fn._loadTier=function(t,e){var r=this;return e.script(r.tiers[t].getSrcs()).wait(function(){r._execFunctionQueue(r.tiers[t].getFns())})},a.fn.load=function(){var e,r=this,i=$LAB;if(!$LAB)throw new t("$LAB not found.");for(e=0;e<r.tierCount;e++)i=r._loadTier(e,i);i.script(r.modules.getSrcs()).wait(function(){r.modules.bootstrap(r.modules.getNames()),r._execFunctionQueue(r.ready.getFns())})},window.Ignition=a}();