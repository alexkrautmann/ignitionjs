/*!
 * IgnitionJS v2.0.3 <https://github.com/carsdotcom>
 * @license Apache 2.0
 * @copyright 2014 Cars.com <http://www.cars.com/>
 * @author Mac Heller-Ogden
 * @summary A fast and flexible, module loader/bootstrapper for AngularJS.
 * @requires LABjs 2.0.3 <http://labjs.com/>.
 */
!function(){function t(t){this.name="IgnitionError",this.message="string"==typeof t?t:""}function e(e){return function(n){var i=typeof n;if(i!==e)throw new t("Expected `"+e+"`, instead recieved `"+i+"`.");return!0}}function n(t,e){var n,i=/ +?/g;if("string"==typeof e)return t.indexOf(e)>=0;if("function"==typeof e)for(e=e.toString().replace(i,""),n=0;n<t.length;n++)if("function"==typeof t[n]&&t[n].toString().replace(i,"")===e)return!0;return!1}function i(e,i){return function(o){if(!i(o))throw new t("Invalid subject");n(e,o)||e.push(o)}}function o(e,n){var i;if(!c(n)||!n.hasOwnProperty("length"))throw new t("Expected `array`, instead recieved `"+typeof n+"`.");for(i=0;i<n.length;i++)e(n[i])}function r(t){var e;for(e=0;e<t.length;e++)t[e].call(window)}function s(t){var e=[],n=[],o=[],r=[],s=[],c=[];t="object"==typeof t?t:{},this.dependencyValidation=t.dependencyValidation||u,this.pluginValidation=t.pluginValidation||u,this.moduleValidation=t.moduleValidation||function(t){return"string"==typeof t&&/^[A-Za-z]+\w*$/.test(t)},this.moduleDir=t.moduleDir||"/app/js/modules/",this.moduleBootstrap=t.moduleBootstrap||function(t){angular.bootstrap(document,t)},this.getDependencies=function(){return Array.prototype.slice.call(e,0)},this.getPlugins=function(){return Array.prototype.slice.call(n,0)},this.getModules=function(){return Array.prototype.slice.call(o,0)},this.getDependencyBootstraps=function(){return r},this.getPluginBootstraps=function(){return s},this.getPostLoadBootstraps=function(){return c},this.registerDependency=i(e,this.dependencyValidation),this.registerPlugin=i(n,this.pluginValidation),this.registerModule=i(o,this.moduleValidation),this.registerDependencyBootstrap=i(r,a),this.registerPluginBootstrap=i(s,a),this.registerPostLoadBootstrap=i(c,a)}var u,a,c;t.prototype=Error.prototype,u=e("string"),a=e("function"),c=e("object"),s.fn=s.prototype,s.fn.getModulePath=function(t,e){return"/"!==e.substr(-1)&&(e+="/"),e+t+"/"+t+".js"},s.fn.getModuleSources=function(){var t,e=this.getModules(),n=[];for(t=0;t<e.length;t++)n.push(this.getModulePath(e[t],this.moduleDir));return n},s.fn.registerModules=function(t){o(this.registerModule,t)},s.fn.registerDependencies=function(t){o(this.registerDependency,t)},s.fn.registerPlugins=function(t){o(this.registerPlugin,t)},s.fn.registerDependencyBootstraps=function(t){o(this.registerDependencyBootstrap,t)},s.fn.registerPluginBootstraps=function(t){o(this.registerPluginBootstrap,t)},s.fn.registerPostLoadBootstraps=function(t){o(this.registerPostLoadBootstrap,t)},s.fn.load=function(){var e=this;if(!$LAB)throw new t("$LAB not found.");$LAB.script(this.getDependencies).wait(function(){r(e.getDependencyBootstraps())}).script(this.getPlugins).wait(function(){r(e.getPluginBootstraps())}).script(this.getModuleSources()).wait(function(){e.moduleBootstrap(e.getModules()),r(e.getPostLoadBootstraps())})},window.Ignition=s}();