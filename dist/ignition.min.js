/*!
 * IgnitionJS v3.1.0 <https://github.com/carsdotcom>
 * @license Apache 2.0
 * @copyright 2014 Cars.com <http://www.cars.com/>
 * @author Mac Heller-Ogden
 * @summary A fast and flexible, module loader/bootstrapper for AngularJS.
 * @requires LABjs 2.0.3 <http://labjs.com/>.
 */
!function(){function e(e){this.name="IgnitionError",this.message=e}function t(t){return function(r,n){var i=typeof r,s=!1,o=!1,a=!0;if("object"!==i||(s=null===r)||(o="[object Array]"===Object.prototype.toString.call(r)),"number"===t?a=!isNaN(r)&&i===t:"array"===t?a=o:"object"===t&&(o||s)?a=!1:i!==t&&(a=!1),!a&&n)throw new e("Expected `"+t+"` and instead received `"+i+"`");return a}}function r(e,t){var r,n;if(d(e,!0),u(t))return e.indexOf(t)>=0;if(f(t))for(n=/ +?/g,t=t.toString().replace(n,""),r=0;r<e.length;r++)if("function"==typeof e[r]&&e[r].toString().replace(n,"")===t)return!0;return!1}function n(t,n){return function(i){if(!n(i))throw new e("Invalid subject");r(t,i)||t.push(i)}}function i(e,t){var r;for(d(t,!0),r=0;r<t.length;r++)e(t[r])}function s(e){var t;for(t=0;t<e.length;t++)e[t].call(window)}function o(e,t){return"/"!==t.substr(-1)&&(t+="/"),t+e+"/"+e+".js"}function a(t){function r(){return Array.prototype.slice.call(this.srcs,0)}function i(){return Array.prototype.slice.call(this.fns,0)}function s(e){y._registerMulti(this.registerSrc,e)}function o(e){y._registerMulti(this.registerFn,e)}var a,p,m,h,y=this,v=3,b={modules:{validation:function(e){return"string"==typeof e&&/^[A-Za-z]+\w*$/.test(e)},dir:"/app/js/modules/",bootstrap:function(e){angular.bootstrap(document,e)}}};for(t=function _(e){var t,r,n;for(t=1;t<arguments.length;++t)if(r=arguments[t],"object"==typeof r)for(n in r)r.hasOwnProperty(n)&&(e[n]=c(r[n])?_({},e[n],r[n]):r[n]);return e}({},b,t),y.tiers=t.tiers||v,l(y.tiers,!0),a=1;v>=a;a++){for(p="tier"+a,y[p]={},h=t[p]&&d(t[p].aliases)?t[p].aliases:[],m=0;m<h.length;m++)g(y[h[m]])&&(y[h[m]]=y[p],y[p].aliases=h=t[p]&&d(t[p].aliases)?t[p].aliases:[]);y[p].validation=t[p]&&f(t[p].validation)?t[p].validation:u,y[p].fns=[],y[p].srcs=[],y[p].getSrcs=r,y[p].getFns=i,y[p].registerSrc=n(y[p].srcs,y[p].validation),y[p].registerFn=n(y[p].fns,f),y[p].registerSrcs=s,y[p].registerFns=o}y.ready={fns:[]},y.ready.getFns=i,y.ready.registerFn=n(y.ready.fns,f),y.ready.registerFns=function(e){y._registerMulti(this.registerFn,e)},y.modules={names:[],validation:t.modules.validation,dir:t.modules.dir,bootstrap:t.modules.bootstrap},f(y.modules.validation,!0),u(y.modules.dir,!0),f(y.modules.bootstrap,!0),y.modules.registerOne=n(y.modules.names,y.modules.validation),y.modules.registerMany=function(e){y._registerMulti(this.registerOne,e)},y.modules.register=function(t){if(u(t))y.modules.registerOne(t);else{if(!d(t))throw new e("Expected `array` or `string` and instead received `"+typeof t+"`");y.modules.registerMany(t)}},y.modules.getNames=function(){return Array.prototype.slice.call(this.names,0)},y.modules.getSrcs=function(){var e,t=this.getNames(),r=[];for(e=0;e<t.length;e++)r.push(y._buildModulePath(t[e],this.dir));return r}}var u,l,f,c,d,g;e.prototype=Error.prototype,u=t("string"),l=t("number"),f=t("function"),c=t("object"),d=t("array"),g=t("undefined"),a.fn=a.prototype,a.fn._isString=u,a.fn._isFunction=f,a.fn._isObject=c,a.fn._isArray=d,a.fn._isRegistered=r,a.fn._generateRegistration=n,a.fn._registerMulti=i,a.fn._execFunctionQueue=s,a.fn._buildModulePath=o,a.fn._loadTier=function(e,t){var r=this;return t.script(r[e].getSrcs()).wait(function(){r._execFunctionQueue(r[e].getFns())})},a.fn.load=function(){var t,r=this,n=$LAB;if(!$LAB)throw new e("$LAB not found.");for(t=1;t<=r.tiers;t++)n=r._loadTier("tier"+t,n);n.script(r.modules.getSrcs()).wait(function(){r.modules.bootstrap(r.modules.getNames()),r._execFunctionQueue(r.ready.getFns())})},window.Ignition=a}();