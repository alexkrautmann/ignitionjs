/*!
 * IgnitionJS v3.4.0 <https://github.com/carsdotcom>
 * @license Apache 2.0
 * @copyright 2014 Cars.com <http://www.cars.com/>
 * @author Mac Heller-Ogden
 * @summary A fast and flexible, module loader/bootstrapper for AngularJS.
 * @requires LABjs 2.0.3 <http://labjs.com/>.
 */
"use strict";!function(){var e=function(e){this.name="IgnitionError",this.message=e},t=function(t){return function(r,n){var s=typeof r,i=!1,o=!1,u=!0;if("object"!==s||(i=null===r)||(o="[object Array]"===Object.prototype.toString.call(r)),"array"===t?u=o:"object"===t&&(o||i)?u=!1:s!==t&&(u=!1),!u&&n)throw new e("Expected `"+t+"` and instead received `"+s+"`");return u}},r=function(e,t,r){var n;if(r=c(r)?r:[],c(e,!0),e=e.concat(r),a(t))return e.indexOf(t)>=0;if(l(t)){n=/ +?/g,t=t.toString().replace(n,"");for(var s=0;s<e.length;s++)if(l(e[s])&&e[s].toString().replace(n,"")===t)return!0}return!1},n=function(t,n){return function(s){if(!n(s))throw new e("Invalid subject");r(t,s)||t.push(s)}},s=function(e,t){c(t,!0);for(var r=0;r<t.length;r++)e(t[r])},i=function(e){for(var t=0;t<e.length;t++)e[t].call(window)},o=function(e,t,r){return"/"!==t.substr(-1)&&(t+="/"),t+e+"."+r},u=function(t){function s(e){return function(){return Array.prototype.slice.call(this[e],0)}}function i(e){m._registerMulti(this.registerSrc,e)}function o(e){m._registerMulti(this.registerFn,e)}function u(t){if(a(t))this.registerSrc(m.namedSrcs[t]);else{if(!c(t))throw new e("Invalid subject");for(var r=0;r<t.length;r++)this.registerSrc(m.namedSrcs[t[r]])}}function b(){for(var e=[],t=0;t<m.tierCount;t++)e=e.concat(m.tiers[t].srcs);return e}function h(t){return function(n){if(!m.tiers[t].validation(n))throw new e("Invalid subject");r(m.tiers[t].srcs,n,b())||m.tiers[t].srcs.push(n)}}var v,p,m=this,y={bundles:{validation:function(e){return a(e)&&/^[A-Za-z]+\w*$/.test(e)},dir:"/app/bundles/",loadCss:!1},bootstrap:function(e){angular.bootstrap(document,e)}};t=function S(e){for(var t,r=1;r<arguments.length;++r)if(t=arguments[r],d(t))for(var n in t)t.hasOwnProperty(n)&&(e[n]=d(t[n])?S({},e[n],t[n]):t[n]);return e}({},y,t),m.namedSrcs=d(t.sources)?t.sources:{},d(m.namedSrcs,!0),m.bundles={},m.bundles.names=[],m.bundles.getNames=s("names"),m.bundleModules={},m.bundleModules.names=[],m.bundleModules.getNames=s("names"),m.bundles.validation=t.bundles.validation,l(m.bundles.validation,!0),m.bundles.dir=t.bundles.dir,a(m.bundles.dir,!0),m.bundles.loadCss=t.bundles.loadCss,g(m.bundles.loadCss,!0),m.bundles.registerOne=n(m.bundles.names,m.bundles.validation),m.bundles.registerMany=function(e){m._registerMulti(this.registerOne,e)},m.bundles.register=function(e){var t=void 0===arguments[1]?[e]:arguments[1];return function(){a(e,!0),m.bundles.registerOne(e),m.bundleModules.registerMany(t)}()},m.bundles.getSrcs=function(e){for(var t=this.getNames(),r=[],n="css"===e?!0:!1,s=n?"css":"js",i=0;i<t.length;i++)r.push(m._buildBundlePath(t[i],this.dir,s));return r},m.bundleModules.registerOne=n(m.bundleModules.names,function(){return!0}),m.bundleModules.registerMany=function(e){m._registerMulti(this.registerOne,e)},m.bootstrap=t.bootstrap,l(m.bootstrap,!0),m.tiers=[],c(t.tiers)?(m.tierCount=t.tiers.length,t.tiers=t.tiers):(m.tierCount=2,t.tiers=[]);for(var _=0;_<m.tierCount;_++){m.tiers[_]={},v=t.tiers[_]&&c(t.tiers[_].aliases),m.tiers[_].aliases=p=v?t.tiers[_].aliases:[];for(var w=0;w<p.length;w++){if(!f(m[p[w]]))throw new e("Illegal alias name");m[p[w]]=m.tiers[_]}m.tiers[_].validation=t.tiers[_]&&l(t.tiers[_].validation)?t.tiers[_].validation:a,m.tiers[_].fns=[],m.tiers[_].srcs=[],m.tiers[_].getSrcs=s("srcs"),m.tiers[_].getFns=s("fns"),m.tiers[_].registerSrc=h(_),m.tiers[_].registerFn=n(m.tiers[_].fns,l),m.tiers[_].registerSrcs=i,m.tiers[_].registerFns=o,m.tiers[_].register=u}m.ready={fns:[]},m.ready.getFns=s("fns"),m.ready.registerFn=n(m.ready.fns,l),m.ready.registerFns=function(e){m._registerMulti(this.registerFn,e)}},a=void 0,l=void 0,d=void 0,c=void 0,f=void 0,g=void 0;e.prototype=Error.prototype,a=t("string"),l=t("function"),d=t("object"),c=t("array"),f=t("undefined"),g=t("boolean"),u.fn=u.prototype,u.fn._isString=a,u.fn._isFunction=l,u.fn._isObject=d,u.fn._isArray=c,u.fn._isRegistered=r,u.fn._generateRegistration=n,u.fn._registerMulti=s,u.fn._execFunctionQueue=i,u.fn._buildBundlePath=o,u.fn._loadTier=function(e,t){var r=this;return t.script(r.tiers[e].getSrcs()).wait(function(){r._execFunctionQueue(r.tiers[e].getFns())})},u.fn._injectCss=function(e){var t,r,n=document.getElementsByTagName("head")[0];t=n.getElementsByTagName("link");for(var s=0;s<t.length;s++)if(t[s].getAttribute("href")===e)return;r=document.createElement("link"),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href",e),n.appendChild(r)},u.fn.load=function(){var t,r=this;if(!$LAB)throw new e("$LAB not found.");t=$LAB;for(var n=0;n<r.tierCount;n++)t=r._loadTier(n,t);if(r.bundles.loadCss)for(var s=0,i=r.bundles.getSrcs("css");s<i.length;s++)r._injectCss(i[s]);t.script(r.bundles.getSrcs()).wait(function(){r.bootstrap(r.bundleModules.getNames()),r._execFunctionQueue(r.ready.getFns())})},window.Ignition=u}();