/*!
 * IgnitionJS v3.0.1 <https://github.com/carsdotcom>
 * @license Apache 2.0
 * @copyright 2014 Cars.com <http://www.cars.com/>
 * @author Mac Heller-Ogden
 * @summary A fast and flexible, module loader/bootstrapper for AngularJS.
 * @requires LABjs 2.0.3 <http://labjs.com/>.
 */
!function(){function t(t){this.name="IgnitionError",this.message=t}function e(e){return function(r,n){var i=typeof r,o=!1,s=!1,u=!0;if("object"!==i||(o=null===r)||(s="[object Array]"===Object.prototype.toString.call(r)),"number"===e?u=!isNaN(r)&&i===e:"array"===e?u=s:"object"===e&&(s||o)?u=!1:i!==e&&(u=!1),!u&&n)throw new t("Expected `"+e+"` and instead received `"+i+"`");return u}}function r(t,e){var r,n;if(l(t,!0),u(e))return t.indexOf(e)>=0;if(c(e))for(n=/ +?/g,e=e.toString().replace(n,""),r=0;r<t.length;r++)if("function"==typeof t[r]&&t[r].toString().replace(n,"")===e)return!0;return!1}function n(e,n){return function(i){if(!n(i))throw new t("Invalid subject");r(e,i)||e.push(i)}}function i(t,e){var r;for(l(e,!0),r=0;r<e.length;r++)t(e[r])}function o(t){var e;for(e=0;e<t.length;e++)t[e].call(window)}function s(e){function r(){return Array.prototype.slice.call(this.srcs,0)}function i(){return Array.prototype.slice.call(this.fns,0)}function o(t){g._registerMulti(this.registerSrc,t)}function s(t){g._registerMulti(this.registerFn,t)}var d,g=this,p=1,m=3,y={modules:{validation:function(t){return"string"==typeof t&&/^[A-Za-z]+\w*$/.test(t)},dir:"/app/js/modules/",bootstrap:function(t){angular.bootstrap(document,t)}}};for(e=function h(t){var e,r,n;for(e=1;e<arguments.length;++e)if(r=arguments[e],"object"==typeof r)for(n in r)r.hasOwnProperty(n)&&(t[n]=f(r[n])?h({},t[n],r[n]):r[n]);return t}({},y,e),g.tiers=e.tiers||m,a(g.tiers,!0),p;m>=p;p++)d="tier"+p,g[d]={},g[d].validation=e[d]&&e[d].validation?e[d].validation:u,g[d].fns=[],g[d].srcs=[],c(g[d].validation,!0),g[d].getSrcs=r,g[d].getFns=i,g[d].registerSrc=n(g[d].srcs,g[d].validation),g[d].registerFn=n(g[d].fns,c),g[d].registerSrcs=o,g[d].registerFns=s;g.ready={fns:[]},g.ready.getFns=i,g.ready.registerFn=n(g.ready.fns,c),g.ready.registerFns=function(t){g._registerMulti(this.registerFn,t)},g.modules={names:[],validation:e.modules.validation,dir:e.modules.dir,bootstrap:e.modules.bootstrap},c(g.modules.validation,!0),u(g.modules.dir,!0),c(g.modules.bootstrap,!0),g.modules.registerOne=n(g.modules.names,g.modules.validation),g.modules.registerMany=function(t){g._registerMulti(this.registerOne,t)},g.modules.register=function(e){if(u(e))g.modules.registerOne(e);else{if(!l(e))throw new t("Expected `array` or `string` and instead received `"+typeof e+"`");g.modules.registerMany(e)}},g.modules.getNames=function(){return Array.prototype.slice.call(this.names,0)},g.modules.getSrcs=function(){var t,e=this.getNames(),r=[];for(t=0;t<e.length;t++)r.push(g.buildModulePath(e[t],this.dir));return r}}var u,a,c,f,l;t.prototype=Error.prototype,u=e("string"),a=e("number"),c=e("function"),f=e("object"),l=e("array"),s.fn=s.prototype,s.fn._isString=u,s.fn._isFunction=c,s.fn._isObject=f,s.fn._isArray=l,s.fn._isRegistered=r,s.fn._generateRegistration=n,s.fn._registerMulti=i,s.fn._execFunctionQueue=o,s.fn.buildModulePath=function(t,e){return"/"!==e.substr(-1)&&(e+="/"),e+t+"/"+t+".js"},s.fn._loadTier=function(t,e){var r=this;return e.script(r[t].getSrcs()).wait(function(){r._execFunctionQueue(r[t].getFns())})},s.fn.load=function(){var e=this,r=1,n=$LAB;if(!$LAB)throw new t("$LAB not found.");for(r;r<=e.tiers;r++)n=e._loadTier("tier"+r,n);n.script(e.modules.getSrcs()).wait(function(){e.modules.bootstrap(e.modules.getNames()),e._execFunctionQueue(e.ready.getFns())})},window.Ignition=s}();