/*!
 * IgnitionJS v1.1.1 <https://github.com/carsdotcom>
 * @license Apache 2.0
 * @copyright 2014 Cars.com <http://www.cars.com/>
 * @author Mac Heller-Ogden
 * @summary A fast and flexible, module loader/bootstrapper for AngularJS.
 * @requires LABjs 2.0.3 <http://labjs.com/>.
 */
!function(){function t(t,n,e){if("object"!=typeof t||!t.hasOwnProperty("length"))throw new Error("Ignition Error: Argument `registry` must be an array.");if("function"!=typeof n)throw new Error("Ignition Error: Argument `predicate` must be a function.");if(!n(e))throw new Error("Ignition Error: Invalid subject");t.push(e)}function n(t,n){var e;if("function"!=typeof t)throw new Error("Ignition Error: Argument `registration` must be a function");if("object"!=typeof n||!n.hasOwnProperty("length"))throw new Error("Ignition Error: Argument `subjects` must be an array");for(e=0;e<n.length;e++)t(n[e])}function e(n){var e=[],r=[],i=this;n="object"==typeof n?n:{},this.modulesDir=n.modulesDir||"/app/js/modules/",this.moduleValidation=n.moduleValidation||function(t){return"string"==typeof t&&/^[A-Za-z]+\w*$/.test(t)},this.dependencyValidation=n.dependencyValidation||function(t){return"string"==typeof t},this.bootstrap=n.bootstrap||function(t){angular.bootstrap(document,Array.prototype.slice.call(t,0))},this.getModules=function(){return e},this.getDependencies=function(){return r},this.registerModule=function(n){e.indexOf(n)<0&&t(e,i.moduleValidation,n)},this.registerDependency=function(n){r.indexOf(n)<0&&t(r,i.dependencyValidation,n)}}e.fn=e.prototype,e.fn.registerModules=function(t){n(this.registerModule,t)},e.fn.registerDependencies=function(t){n(this.registerDependency,t)},e.fn.buildModulePath=function(t,n){return"/"!==n.substr(-1)&&(n+="/"),n+t+"/"+t+".js"},e.fn.load=function(){var t,n=this,e=this.getDependencies(),r=[],i=this.getModules();for(t=0;t<i.length;t++)r.push(this.buildModulePath(i[t],this.modulesDir));$LAB.script(e).wait().script(r).wait(function(){n.bootstrap(i)})},window.Ignition=e}();