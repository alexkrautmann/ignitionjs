/*!
 * IgnitionJS v2.0.0 <https://github.com/carsdotcom>
 * @license Apache 2.0
 * @copyright 2014 Cars.com <http://www.cars.com/>
 * @author Mac Heller-Ogden
 * @summary A fast and flexible, module loader/bootstrapper for AngularJS.
 * @requires LABjs 2.0.3 <http://labjs.com/>.
 */
!function(){function t(t){this.name="IgnitionError",this.message="string"==typeof t?t:""}function e(t,e){var n;if("string"==typeof e)return t.indexOf(e)>=0;if("function"==typeof e)for(e=e.toString(),n=0;n<t.length;n++)if("function"==typeof t[n]&&t[n].toString()===e)return!0;return!1}function n(n,i){return function(o){if("object"!=typeof n||!n.hasOwnProperty("length"))throw new t("Argument `registry` must be an array.");if("function"!=typeof i)throw new t("Argument `predicate` must be a function.");if(!i(o))throw new t("Invalid subject");e(n,o)||n.push(o)}}function i(e,n){var i;if("function"!=typeof e)throw new t("Argument `registration` must be a function");if("object"!=typeof n||!n.hasOwnProperty("length"))throw new t("Argument `subjects` must be an array");for(i=0;i<n.length;i++)e(n[i])}function o(t,e){var n;for(e="object"==typeof e?e:window,n=0;n<t.length;n++)t[n].call(e)}function r(t){var e=[],i=[],o=[],r=[],s=[];t="object"==typeof t?t:{},this.dependencyValidation=this.pluginValidation=t.dependencyValidation||function(t){return"string"==typeof t},this.moduleValidation=t.moduleValidation||function(t){return"string"==typeof t&&/^[A-Za-z]+\w*$/.test(t)},this.bootstrapValidation=function(t){return"function"==typeof t},this.moduleDir=t.moduleDir||"/app/js/modules/",this.moduleBootstrap=t.moduleBootstrap||function(t){angular.bootstrap(document,t)},this.getDependencies=function(){return Array.prototype.slice.call(e,0)},this.getPlugins=function(){return Array.prototype.slice.call(i,0)},this.getModules=function(){return Array.prototype.slice.call(o,0)},this.getDependencyBootstraps=function(){return r},this.getPluginBootstraps=function(){return s},this.registerDependency=n(e,this.dependencyValidation),this.registerPlugin=n(i,this.pluginValidation),this.registerModule=n(o,this.moduleValidation),this.getDependencyBootstraps=function(){return r},this.getPluginBootstraps=function(){return s},this.registerDependency=n(e,this.dependencyValidation),this.registerPlugin=n(i,this.pluginValidation),this.registerModule=n(o,this.moduleValidation),this.registerDependencyBootstrap=n(r,this.bootstrapValidation),this.registerPluginBootstrap=n(s,this.bootstrapValidation)}t.prototype=Error.prototype,r.fn=r.prototype,r.fn.getModulePath=function(t,e){return"/"!==e.substr(-1)&&(e+="/"),e+t+"/"+t+".js"},r.fn.getModuleSources=function(){var t,e=this.getModules(),n=[];for(t=0;t<e.length;t++)n.push(this.getModulePath(e[t],this.moduleDir));return n},r.fn.registerModules=function(t){i(this.registerModule,t)},r.fn.registerDependencies=function(t){i(this.registerDependency,t)},r.fn.registerPlugins=function(t){i(this.registerPlugin,t)},r.fn.dependencyBootstrap=function(){o(this.getDependencyBootstraps(),this)},r.fn.pluginBootstrap=function(){o(this.getPluginBootstraps(),this)},r.fn.load=function(){var e=this;if(!$LAB)throw new t("$LAB not found.");$LAB.script(this.getDependencies).wait(this.dependencyBootstrap).script(this.getPlugins).wait(this.pluginBootstrap).script(this.getModuleSources()).wait(function(){e.moduleBootstrap(e.getModules())})},window.Ignition=r}();